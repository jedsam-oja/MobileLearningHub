<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>MedTutorials - E-Books</title>
  <link rel="icon" type="image/x-icon" href="images/main logo.png">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Vendor CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.css">
  
  <style>
    :root {
      --primary-color: #2B6CB0;
      --secondary-color: #4A5568;
      --accent-color: #38B2AC;
      --accent-hover: #319795;
      --background-light: #F7FAFC;
      --background-dark: #1A202C;
      --text-light: #718096;
      --card-shadow: 0 10px 20px rgba(0,0,0,0.05);
      --card-bg: white;
      --text-dark: #2D3748;
      --border-color: #E2E8F0;
      --card-radius: 16px;
      --gradient-primary: linear-gradient(135deg, #38B2AC 0%, #3182CE 100%);
      --gradient-secondary: linear-gradient(135deg, #4299E1 0%, #3182CE 100%);
      --gradient-dark: linear-gradient(135deg, #2D3748 0%, #1A202C 100%);
      --neumorphic-light: 8px 8px 16px #d1d9e6, -8px -8px 16px #ffffff;
      --neumorphic-dark: 8px 8px 16px #151a23, -8px -8px 16px #1f2937;
      --neumorphic-pressed-light: inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #ffffff;
      --neumorphic-pressed-dark: inset 4px 4px 8px #151a23, inset -4px -4px 8px #1f2937;
      --sidebar-width: 280px;
      --sidebar-collapsed-width: 80px;
      --header-height: 70px;
      --transition-speed: 0.3s;
    }

    /* Dark mode variables */
    [data-theme="dark"] {
      --primary-color: #4299E1;
      --secondary-color: #A0AEC0;
      --accent-color: #4FD1C5;
      --accent-hover: #38B2AC;
      --background-light: #1A202C;
      --text-light: #A0AEC0;
      --card-bg: #2D3748;
      --text-dark: #E2E8F0;
      --border-color: #4A5568;
      --card-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--background-light);
      color: var(--text-dark);
      transition: all 0.3s ease;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }

    /* Noise Texture */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: 0.02;
      z-index: -1;
      pointer-events: none;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--accent-color);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-hover);
    }

    /* Layout */
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }

    .main-content {
      flex: 1;
      margin-left: var(--sidebar-width);
      transition: margin-left var(--transition-speed) ease;
      padding-top: var(--header-height);
      min-height: 100vh;
    }

    .sidebar-collapsed .main-content {
      margin-left: var(--sidebar-collapsed-width);
    }

    @media (max-width: 992px) {
      .main-content {
        margin-left: 0;
      }
      .sidebar-collapsed .main-content {
        margin-left: 0;
      }
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      right: 0;
      left: var(--sidebar-width);
      height: var(--header-height);
      background: var(--card-bg);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      display: flex;
      align-items: center;
      padding: 0 30px;
      z-index: 100;
      transition: left var(--transition-speed) ease;
    }

    .sidebar-collapsed .header {
      left: var(--sidebar-collapsed-width);
    }

    @media (max-width: 992px) {
      .header {
        left: 0;
      }
      .sidebar-collapsed .header {
        left: 0;
      }
    }

    .search-bar {
      position: relative;
      width: 300px;
    }

    .search-bar input {
      width: 100%;
      height: 40px;
      border-radius: 20px;
      border: 1px solid var(--border-color);
      background: var(--card-bg);
      color: var(--text-dark);
      padding: 0 40px 0 20px;
      transition: all 0.3s ease;
    }

    .search-bar input:focus {
      box-shadow: 0 0 0 3px rgba(56, 178, 172, 0.2);
      border-color: var(--accent-color);
      outline: none;
    }

    .search-bar i {
      position: absolute;
      top: 50%;
      right: 15px;
      transform: translateY(-50%);
      color: var(--text-light);
    }

    .header-right {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .notification-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      color: var(--text-light);
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      box-shadow: var(--neumorphic-light);
    }

    [data-theme="dark"] .notification-btn {
      box-shadow: var(--neumorphic-dark);
    }

    .notification-btn:hover {
      background: var(--accent-color);
      color: white;
    }

    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #DC2626;
      color: white;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    .theme-toggle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      color: var(--text-light);
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--neumorphic-light);
    }

    [data-theme="dark"] .theme-toggle {
      box-shadow: var(--neumorphic-dark);
    }

    .theme-toggle:hover {
      background: var(--accent-color);
      color: white;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 30px;
      transition: all 0.3s ease;
    }

    .user-profile:hover {
      background: rgba(56, 178, 172, 0.1);
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
    }

    .user-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .user-info {
      display: none;
    }

    @media (min-width: 576px) {
      .user-info {
        display: block;
      }
    }

    .user-info h6 {
      margin: 0;
      font-weight: 600;
      font-size: 14px;
    }

    .user-info p {
      margin: 0;
      font-size: 12px;
      color: var(--text-light);
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: var(--sidebar-width);
      background: var(--card-bg);
      z-index: 200;
      transition: width var(--transition-speed) ease, transform var(--transition-speed) ease;
      box-shadow: 2px 0 10px rgba(0,0,0,0.05);
      overflow-y: auto;
      overflow-x: hidden;
    }

    .sidebar-collapsed .sidebar {
      width: var(--sidebar-collapsed-width);
    }

    @media (max-width: 992px) {
      .sidebar {
        transform: translateX(-100%);
        box-shadow: none;
      }
      .sidebar.active {
        transform: translateX(0);
        box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      }
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      padding: 20px;
      height: var(--header-height);
      border-bottom: 1px solid var(--border-color);
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-container img {
      width: 35px;
      height: 35px;
      transition: transform 0.3s ease;
    }

    .logo-container:hover img {
      transform: rotate(10deg);
    }

    .logo-text {
      font-weight: 600;
      font-size: 18px;
      white-space: nowrap;
      transition: opacity var(--transition-speed) ease;
    }

    .sidebar-collapsed .logo-text {
      opacity: 0;
      width: 0;
    }

    .toggle-sidebar-btn {
      margin-left: auto;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      color: var(--text-light);
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--neumorphic-light);
    }

    [data-theme="dark"] .toggle-sidebar-btn {
      box-shadow: var(--neumorphic-dark);
    }

    .toggle-sidebar-btn:hover {
      background: var(--accent-color);
      color: white;
    }

    .sidebar-menu {
      padding: 20px 0;
    }

    .menu-label {
      padding: 10px 20px;
      font-size: 12px;
      text-transform: uppercase;
      color: var(--text-light);
      font-weight: 600;
      letter-spacing: 1px;
      transition: opacity var(--transition-speed) ease;
    }

    .sidebar-collapsed .menu-label {
      opacity: 0;
      height: 0;
      padding: 0;
      overflow: hidden;
    }

    .menu-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text-dark);
      font-weight: 500;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      border-left: 3px solid transparent;
    }

    .sidebar-collapsed .menu-item {
      padding: 12px 0;
      justify-content: center;
    }

    .menu-item:hover {
      background: rgba(56, 178, 172, 0.1);
    }

    .menu-item.active {
      color: var(--accent-color);
      background: rgba(56, 178, 172, 0.1);
      border-left-color: var(--accent-color);
    }

    .menu-icon {
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.3s ease;
    }

    .menu-text {
      flex: 1;
      white-space: nowrap;
      transition: opacity var(--transition-speed) ease;
    }

    .sidebar-collapsed .menu-text {
      opacity: 0;
      width: 0;
    }

    .menu-arrow {
      transition: transform 0.3s ease, opacity var(--transition-speed) ease;
    }

    .sidebar-collapsed .menu-arrow {
      opacity: 0;
      width: 0;
    }

    .menu-item.active .menu-arrow {
      transform: rotate(90deg);
    }

    .submenu {
      padding-left: 34px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .sidebar-collapsed .submenu {
      padding-left: 0;
    }

    .menu-item.active + .submenu {
      max-height: 500px;
    }

    .submenu-item {
      padding: 10px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text-dark);
      font-weight: 400;
      font-size: 14px;
      transition: all 0.3s ease;
      cursor: pointer;
      white-space: nowrap;
    }

    .sidebar-collapsed .submenu-item {
      padding: 10px 0;
      justify-content: center;
    }

    .submenu-item:hover {
      color: var(--accent-color);
    }

    .submenu-item.active {
      color: var(--accent-color);
    }

    .submenu-icon {
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    .submenu-text {
      transition: opacity var(--transition-speed) ease;
    }

    .sidebar-collapsed .submenu-text {
      opacity: 0;
      width: 0;
    }

    /* Tooltip for collapsed sidebar */
    .menu-tooltip {
      position: absolute;
      left: 70px;
      background: var(--card-bg);
      color: var(--text-dark);
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .sidebar-collapsed .menu-item:hover .menu-tooltip,
    .sidebar-collapsed .submenu-item:hover .menu-tooltip {
      opacity: 1;
      visibility: visible;
    }

    /* Mobile sidebar toggle */
    .mobile-sidebar-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--accent-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: none;
    }

    .mobile-sidebar-toggle:hover {
      background: var(--accent-hover);
      transform: scale(1.05);
    }

    @media (max-width: 992px) {
      .mobile-sidebar-toggle {
        display: flex;
      }
    }

    /* E-Books Content Styles */
    .ebooks-header {
      background: var(--gradient-primary);
      border-radius: var(--card-radius);
      padding: 30px;
      color: white;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }

    .ebooks-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.2;
    }

    .ebooks-header-content {
      position: relative;
      z-index: 1;
    }

    .ebooks-title {
      font-weight: 700;
      font-size: 1.8rem;
      margin-bottom: 10px;
    }

    .ebooks-subtitle {
      opacity: 0.8;
      margin-bottom: 20px;
      max-width: 700px;
    }

    .ebooks-search {
      max-width: 600px;
      margin-top: 20px;
    }

    .ebooks-search .input-group {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 30px;
      padding: 5px;
    }

    .ebooks-search input {
      background: transparent;
      border: none;
      color: white;
      padding: 10px 20px;
    }

    .ebooks-search input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .ebooks-search input:focus {
      box-shadow: none;
      outline: none;
    }

    .ebooks-search button {
      background: white;
      color: var(--accent-color);
      border-radius: 50px;
      padding: 8px 20px;
      border: none;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .ebooks-search button:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
    }

    .ebooks-filter {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }

    .filter-chip {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 30px;
      padding: 6px 15px;
      font-size: 14px;
      color: var(--text-dark);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-chip:hover {
      background: rgba(56, 178, 172, 0.1);
      border-color: var(--accent-color);
    }

    .filter-chip.active {
      background: var(--accent-color);
      color: white;
      border-color: var(--accent-color);
    }

    .ebooks-section {
      margin-bottom: 40px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .section-title {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .section-action {
      color: var(--accent-color);
      font-weight: 500;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .section-action:hover {
      color: var(--accent-hover);
    }

    .ebooks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 25px;
    }

    .book-card {
      background: var(--card-bg);
      border-radius: var(--card-radius);
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: var(--neumorphic-light);
      border: 1px solid var(--border-color);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    [data-theme="dark"] .book-card {
      box-shadow: var(--neumorphic-dark);
    }

    .book-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }

    .book-cover {
      position: relative;
      height: 260px;
      overflow: hidden;
    }

    .book-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: all 0.5s ease;
    }

    .book-card:hover .book-cover img {
      transform: scale(1.05);
    }

    .book-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      z-index: 1;
    }

    .book-badge.free {
      background: #10B981;
      color: white;
    }

    .book-badge.premium {
      background: #F59E0B;
      color: white;
    }

    .book-badge.new {
      background: #EF4444;
      color: white;
    }

    .book-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .book-card:hover .book-overlay {
      opacity: 1;
    }

    .book-action {
      display: flex;
      gap: 10px;
    }

    .book-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent-color);
      cursor: pointer;
      transition: all 0.3s ease;
      transform: translateY(20px);
      opacity: 0;
    }

    .book-card:hover .book-btn {
      transform: translateY(0);
      opacity: 1;
    }

    .book-btn:hover {
      background: var(--accent-color);
      color: white;
    }

    .book-btn.preview {
      transition-delay: 0.05s;
    }

    .book-btn.read {
      transition-delay: 0.1s;
    }

    .book-btn.buy {
      transition-delay: 0.15s;
    }

    .book-content {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .book-title {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 5px;
      line-height: 1.4;
    }

    .book-author {
      color: var(--text-light);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    .book-rating {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 10px;
    }

    .book-stars {
      color: #F59E0B;
      font-size: 14px;
    }

    .book-rating-count {
      color: var(--text-light);
      font-size: 0.8rem;
    }

    .book-description {
      color: var(--text-light);
      font-size: 0.85rem;
      margin-bottom: 15px;
      line-height: 1.5;
      flex: 1;
    }

    .book-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: auto;
    }

    .book-price {
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--accent-color);
    }

    .book-price.free {
      color: #10B981;
    }

    .book-cta {
      padding: 6px 12px;
      border-radius: 20px;
      background: var(--accent-color);
      color: white;
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }

    .book-cta:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
    }

    .book-cta.amazon {
      background: #FF9900;
    }

    .book-cta.amazon:hover {
      background: #E68A00;
    }

    /* Swiper Styles */
    .swiper-container {
      padding: 10px 5px 30px;
      margin: 0 -5px;
    }

    .swiper-slide {
      height: auto;
    }

    .swiper-pagination-bullet {
      width: 10px;
      height: 10px;
      background: var(--text-light);
      opacity: 0.5;
    }

    .swiper-pagination-bullet-active {
      background: var(--accent-color);
      opacity: 1;
    }

    .swiper-button-next, .swiper-button-prev {
      color: var(--accent-color);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--card-bg);
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .swiper-button-next:after, .swiper-button-prev:after {
      font-size: 18px;
    }

    /* E-book Reader Modal */
    .ebook-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .ebook-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .ebook-reader {
      width: 90%;
      max-width: 1000px;
      height: 85vh;
      background: var(--card-bg);
      border-radius: var(--card-radius);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transform: translateY(50px);
      transition: all 0.3s ease;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    }

    .ebook-modal.active .ebook-reader {
      transform: translateY(0);
    }

    .reader-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .reader-title {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .reader-controls {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .reader-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      color: var(--text-light);
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .reader-btn:hover {
      background: var(--accent-color);
      color: white;
    }

    .reader-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(220, 38, 38, 0.1);
      color: #DC2626;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .reader-close:hover {
      background: #DC2626;
      color: white;
    }

    .reader-content {
      flex: 1;
      overflow-y: auto;
      padding: 30px;
      line-height: 1.8;
      font-size: 1.1rem;
    }

    .reader-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 20px;
      border-top: 1px solid var(--border-color);
    }

    .reader-page {
      font-size: 0.9rem;
      color: var(--text-light);
    }

    .reader-navigation {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .page-btn {
      padding: 8px 15px;
      border-radius: 20px;
      background: var(--accent-color);
      color: white;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .page-btn:hover {
      background: var(--accent-hover);
    }

    .page-btn.disabled {
      background: var(--border-color);
      cursor: not-allowed;
      opacity: 0.7;
    }

    /* Preview Modal */
    .preview-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .preview-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .preview-container {
      width: 90%;
      max-width: 1000px;
      height: 85vh;
      background: var(--card-bg);
      border-radius: var(--card-radius);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transform: translateY(50px);
      transition: all 0.3s ease;
      box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    }

    .preview-modal.active .preview-container {
      transform: translateY(0);
    }

    .preview-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .preview-title {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .preview-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(220, 38, 38, 0.1);
      color: #DC2626;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .preview-close:hover {
      background: #DC2626;
      color: white;
    }

    .preview-content {
      flex: 1;
      overflow-y: auto;
      padding: 0;
      display: flex;
    }

    .preview-sidebar {
      width: 300px;
      padding: 20px;
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
    }

    .preview-book-cover {
      width: 100%;
      height: 300px;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .preview-book-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .preview-book-title {
      font-weight: 600;
      font-size: 1.2rem;
      margin-bottom: 5px;
    }

    .preview-book-author {
      color: var(--text-light);
      margin-bottom: 15px;
    }

    .preview-book-rating {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 15px;
    }

    .preview-book-stars {
      color: #F59E0B;
    }

    .preview-book-rating-count {
      color: var(--text-light);
      font-size: 0.9rem;
    }

    .preview-book-price {
      font-weight: 600;
      font-size: 1.3rem;
      color: var(--accent-color);
      margin-bottom: 5px;
    }

    .preview-book-original-price {
      text-decoration: line-through;
      color: var(--text-light);
      font-size: 0.9rem;
      margin-bottom: 20px;
    }

    .preview-book-description {
      color: var(--text-dark);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .preview-book-details {
      margin-bottom: 20px;
    }

    .preview-book-detail {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--border-color);
      font-size: 0.9rem;
    }

    .preview-book-detail:last-child {
      border-bottom: none;
    }

    .preview-book-detail-label {
      color: var(--text-light);
    }

    .preview-cta {
      display: block;
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      background: #FF9900;
      color: white;
      font-weight: 600;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 10px;
      border: none;
    }

    .preview-cta:hover {
      background: #E68A00;
      transform: translateY(-2px);
    }

    .preview-pages {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }

    .preview-page {
      margin-bottom: 30px;
    }

    .preview-page-header {
      font-weight: 600;
      font-size: 1.3rem;
      margin-bottom: 15px;
      color: var(--accent-color);
    }

    .preview-page-content {
      line-height: 1.8;
      font-size: 1rem;
    }

    /* Rain Animation for Dark Mode */
    .rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    [data-theme="dark"] .rain {
      opacity: 0.3;
    }

    .rain-drop {
      position: absolute;
      width: 2px;
      height: 15px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.7));
      border-radius: 0 0 5px 5px;
      opacity: 0.6;
      animation: rain-fall linear infinite;
    }

    @keyframes rain-fall {
      0% {
        transform: translateY(-100vh);
      }
      100% {
        transform: translateY(100vh);
      }
    }

    /* Collection Card */
    .collection-card {
      background: var(--card-bg);
      border-radius: var(--card-radius);
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: var(--neumorphic-light);
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .collection-card {
      box-shadow: var(--neumorphic-dark);
    }

    .collection-card:hover {
      transform: translateY(-5px);
    }

    .collection-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(56, 178, 172, 0.1) 0%, rgba(49, 151, 149, 0.1) 100%);
      opacity: 0;
      transition: all 0.3s ease;
    }

    .collection-card:hover::before {
      opacity: 1;
    }

    .collection-content {
      display: flex;
      align-items: center;
      gap: 20px;
      position: relative;
      z-index: 1;
    }

    .collection-icon {
      width: 60px;
      height: 60px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      flex-shrink: 0;
      transition: all 0.3s ease;
    }

    .collection-card:hover .collection-icon {
      transform: scale(1.1);
    }

    .collection-details {
      flex: 1;
    }

    .collection-title {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 5px;
    }

    .collection-description {
      color: var(--text-light);
      font-size: 0.9rem;
      margin-bottom: 10px;
    }

    .collection-stats {
      display: flex;
      gap: 15px;
    }

    .collection-stat {
      display: flex;
      align-items: center;
      gap: 5px;
      color: var(--text-light);
      font-size: 0.8rem;
    }

    .collection-action {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(56, 178, 172, 0.1);
      color: var(--accent-color);
      transition: all 0.3s ease;
      cursor: pointer;
      flex-shrink: 0;
    }

    .collection-card:hover .collection-action {
      background: var(--accent-color);
      color: white;
    }

    /* Notification Dropdown */
    .notification-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 300px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      padding: 15px;
      z-index: 1000;
      display: none;
      margin-top: 10px;
      border: 1px solid var(--border-color);
    }

    .notification-dropdown.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .notification-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .notification-title {
      font-weight: 600;
    }

    .notification-clear {
      color: var(--accent-color);
      font-size: 0.8rem;
      cursor: pointer;
    }

    .notification-item {
      display: flex;
      gap: 10px;
      padding: 10px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .notification-item:last-child {
      border-bottom: none;
    }

    .notification-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      color: white;
    }

    .notification-content {
      flex: 1;
    }

    .notification-message {
      font-size: 0.9rem;
      margin-bottom: 3px;
    }

    .notification-time {
      color: var(--text-light);
      font-size: 0.8rem;
    }

    .notification-view-all {
      text-align: center;
      padding: 10px;
      color: var(--accent-color);
      font-weight: 500;
      cursor: pointer;
      border-top: 1px solid var(--border-color);
      margin: 0 -15px -15px;
    }

    /* User Profile Dropdown */
    .user-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 200px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      padding: 15px;
      z-index: 1000;
      display: none;
      margin-top: 10px;
      border: 1px solid var(--border-color);
    }

    .user-dropdown.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .user-dropdown-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      color: var(--text-dark);
      border-radius: 8px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .user-dropdown-item:hover {
      background: rgba(56, 178, 172, 0.1);
      color: var(--accent-color);
    }

    .user-dropdown-divider {
      height: 1px;
      background: var(--border-color);
      margin: 10px 0;
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .ebooks-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    @media (max-width: 992px) {
      .ebooks-content {
        padding: 20px;
      }
      
      .preview-sidebar {
        width: 250px;
      }
    }

    @media (max-width: 768px) {
      .ebooks-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }
      
      .ebooks-header {
        padding: 20px;
      }
      
      .ebooks-title {
        font-size: 1.5rem;
      }
      
      .search-bar {
        width: 200px;
      }
      
      .preview-content {
        flex-direction: column;
      }
      
      .preview-sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 20px;
      }
      
      .preview-book-cover {
        height: 200px;
      }
    }

    @media (max-width: 576px) {
      .ebooks-content {
        padding: 15px;
      }
      
      .ebooks-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
      }
      
      .search-bar {
        display: none;
      }
      
      .book-cover {
        height: 200px;
      }
      
      .reader-title {
        font-size: 1rem;
      }
      
      .reader-content {
        padding: 20px;
        font-size: 1rem;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in {
      animation: fadeIn 0.3s ease forwards;
    }

    /* Book Flip Animation */
    @keyframes bookFlip {
      0% {
        transform: rotateY(0deg);
      }
      100% {
        transform: rotateY(180deg);
      }
    }

    .book-flip {
      animation: bookFlip 0.6s ease-in-out;
      transform-style: preserve-3d;
    }

    /* Book Highlight Animation */
    .book-highlight {
      position: relative;
      overflow: hidden;
    }

    .book-highlight::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.3) 50%,
        rgba(255, 255, 255, 0) 100%
      );
      transform: rotate(30deg);
      animation: highlightSweep 3s ease-in-out infinite;
    }

    @keyframes highlightSweep {
      0% {
        transform: rotate(30deg) translateX(-100%);
      }
      100% {
        transform: rotate(30deg) translateX(100%);
      }
    }

    /* Book Bounce Animation */
    @keyframes bookBounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    .book-bounce {
      animation: bookBounce 1s ease infinite;
    }

    /* Floating Books Animation */
    .floating-books {
      position: absolute;
      top: 0;
      right: 0;
      width: 300px;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    .floating-book {
      position: absolute;
      width: 40px;
      height: 60px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      animation: float 10s linear infinite;
    }

    @keyframes float {
      0% {
        transform: translateY(100%) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100%) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Rain Animation for Dark Mode -->
  <div class="rain" id="rainAnimation"></div>

  <div class="dashboard-container" id="dashboardContainer">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="logo-container">
          <img src="images/main logo.png" alt="MedTutorials Logo">
          <span class="logo-text">MedTutorials</span>
        </a>
        <button class="toggle-sidebar-btn" id="toggleSidebar">
          <i class="bi bi-chevron-left"></i>
        </button>
      </div>
      
      <div class="sidebar-menu">
        <div class="menu-label">Main</div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-grid-1x2"></i>
          </div>
          <div class="menu-text">Dashboard</div>
          <div class="menu-tooltip">Dashboard</div>
        </div>
        
        <div class="menu-item active">
          <div class="menu-icon">
            <i class="bi bi-journal-bookmark"></i>
          </div>
          <div class="menu-text">Learning Resources</div>
          <div class="menu-arrow">
            <i class="bi bi-chevron-right"></i>
          </div>
          <div class="menu-tooltip">Learning Resources</div>
        </div>
        
        <div class="submenu">
          <div class="submenu-item">
            <div class="submenu-icon">
              <i class="bi bi-journal-text"></i>
            </div>
            <div class="submenu-text">Study Notes</div>
            <div class="menu-tooltip">Study Notes</div>
          </div>
          
          <div class="submenu-item">
            <div class="submenu-icon">
              <i class="bi bi-journal-check"></i>
            </div>
            <div class="submenu-text">Question Bank</div>
            <div class="menu-tooltip">Question Bank</div>
          </div>
          
          <div class="submenu-item">
            <div class="submenu-icon">
              <i class="bi bi-play-circle"></i>
            </div>
            <div class="submenu-text">Video Lectures</div>
            <div class="menu-tooltip">Video Lectures</div>
          </div>
          
          <div class="submenu-item active">
            <div class="submenu-icon">
              <i class="bi bi-book"></i>
            </div>
            <div class="submenu-text">E-books</div>
            <div class="menu-tooltip">E-books</div>
          </div>
          
          <div class="submenu-item">
            <div class="submenu-icon">
              <i class="bi bi-card-list"></i>
            </div>
            <div class="submenu-text">Flashcards</div>
            <div class="menu-tooltip">Flashcards</div>
          </div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-graph-up"></i>
          </div>
          <div class="menu-text">Performance Tracking</div>
          <div class="menu-tooltip">Performance Tracking</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-calendar-check"></i>
          </div>
          <div class="menu-text">Schedule Meeting</div>
          <div class="menu-tooltip">Schedule Meeting</div>
        </div>
        
        <div class="menu-label">Community</div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-camera-video"></i>
          </div>
          <div class="menu-text">Live Sessions</div>
          <div class="menu-tooltip">Live Sessions</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-people"></i>
          </div>
          <div class="menu-text">Study Groups</div>
          <div class="menu-tooltip">Study Groups</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-broadcast"></i>
          </div>
          <div class="menu-text">Educational Podcasts</div>
          <div class="menu-tooltip">Educational Podcasts</div>
        </div>
        
        <div class="menu-label">Account</div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-gear"></i>
          </div>
          <div class="menu-text">Settings</div>
          <div class="menu-tooltip">Settings</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-question-circle"></i>
          </div>
          <div class="menu-text">Help & Support</div>
          <div class="menu-tooltip">Help & Support</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-icon">
            <i class="bi bi-box-arrow-right"></i>
          </div>
          <div class="menu-text">Logout</div>
          <div class="menu-tooltip">Logout</div>
        </div>
      </div>
    </div>
    
    <!-- Header -->
    <header class="header">
      <div class="search-bar">
        <input type="text" placeholder="Search e-books...">
        <i class="bi bi-search"></i>
      </div>
      
      <div class="header-right">
        <div class="notification-btn" id="notificationBtn">
          <i class="bi bi-bell"></i>
          <span class="notification-badge">3</span>
          
          <!-- Notification Dropdown -->
          <div class="notification-dropdown" id="notificationDropdown">
            <div class="notification-header">
              <div class="notification-title">Notifications</div>
              <div class="notification-clear">Clear All</div>
            </div>
            
            <div class="notification-item">
              <div class="notification-icon" style="background: #4F46E5;">
                <i class="bi bi-book"></i>
              </div>
              <div class="notification-content">
                <div class="notification-message">New e-book added: "Advanced Neuroanatomy"</div>
                <div class="notification-time">Just now</div>
              </div>
            </div>
            
            <div class="notification-item">
              <div class="notification-icon" style="background: #059669;">
                <i class="bi bi-tag"></i>
              </div>
              <div class="notification-content">
                <div class="notification-message">Special offer: 30% off on premium e-books</div>
                <div class="notification-time">2 hours ago</div>
              </div>
            </div>
            
            <div class="notification-item">
              <div class="notification-icon" style="background: #D97706;">
                <i class="bi bi-star"></i>
              </div>
              <div class="notification-content">
                <div class="notification-message">Your bookmarked e-book "Clinical Pharmacology" has been updated</div>
                <div class="notification-time">Yesterday</div>
              </div>
            </div>
            
            <div class="notification-view-all">
              View All Notifications
            </div>
          </div>
        </div>
        
        <button class="theme-toggle" id="themeToggle">
          <i class="bi bi-moon"></i>
        </button>
        
        <div class="user-profile" id="userProfile">
          <div class="user-avatar">
            <img src="https://picsum.photos/id/64/100/100" alt="User Avatar">
          </div>
          <div class="user-info">
            <h6>Jedidiah Samson</h6>
            <p>Medical Student</p>
          </div>
          
          <!-- User Dropdown -->
          <div class="user-dropdown" id="userDropdown">
            <div class="user-dropdown-item">
              <i class="bi bi-person"></i>
              <span>My Profile</span>
            </div>
            <div class="user-dropdown-item">
              <i class="bi bi-gear"></i>
              <span>Account Settings</span>
            </div>
            <div class="user-dropdown-item">
              <i class="bi bi-bookmark"></i>
              <span>My Bookmarks</span>
            </div>
            <div class="user-dropdown-divider"></div>
            <div class="user-dropdown-item">
              <i class="bi bi-box-arrow-right"></i>
              <span>Logout</span>
            </div>
          </div>
        </div>
      </div>
    </header>
    
    <!-- Mobile Sidebar Toggle -->
    <div class="mobile-sidebar-toggle" id="mobileSidebarToggle">
      <i class="bi bi-list"></i>
    </div>
    
    <!-- Main Content -->
    <main class="main-content">
      <div class="dashboard-content">
        <!-- E-Books Header -->
        <div class="ebooks-header">
          <div class="ebooks-header-content">
            <h2 class="ebooks-title">Medical E-Books Library</h2>
            <p class="ebooks-subtitle">Access a comprehensive collection of medical textbooks, reference guides, and clinical resources to enhance your medical education journey.</p>
            
            <div class="ebooks-search">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Search by title, author, or topic...">
                <button class="btn" type="button">Search</button>
              </div>
            </div>
            
            <div class="floating-books">
              <div class="floating-book" style="left: 10%; animation-duration: 8s; animation-delay: 0.5s;"></div>
              <div class="floating-book" style="left: 25%; animation-duration: 12s; animation-delay: 1s;"></div>
              <div class="floating-book" style="left: 40%; animation-duration: 10s; animation-delay: 2s;"></div>
              <div class="floating-book" style="left: 60%; animation-duration: 9s; animation-delay: 0s;"></div>
              <div class="floating-book" style="left: 75%; animation-duration: 11s; animation-delay: 1.5s;"></div>
              <div class="floating-book" style="left: 90%; animation-duration: 7s; animation-delay: 3s;"></div>
            </div>
          </div>
        </div>
        
        <!-- Filters -->
        <div class="ebooks-filter">
          <div class="filter-chip active">All</div>
          <div class="filter-chip">Anatomy</div>
          <div class="filter-chip">Physiology</div>
          <div class="filter-chip">Pathology</div>
          <div class="filter-chip">Pharmacology</div>
          <div class="filter-chip">Clinical Medicine</div>
          <div class="filter-chip">Surgery</div>
          <div class="filter-chip">Pediatrics</div>
          <div class="filter-chip">Free Resources</div>
        </div>
        
        <!-- Featured Collections -->
        <div class="ebooks-section">
          <div class="section-header">
            <h3 class="section-title">Featured Collections</h3>
            <a href="#" class="section-action">
              View All <i class="bi bi-arrow-right"></i>
            </a>
          </div>
          
          <div class="row">
            <div class="col-md-4">
              <div class="collection-card">
                <div class="collection-content">
                  <div class="collection-icon" style="background: rgba(79, 70, 229, 0.1); color: #4F46E5;">
                    <i class="bi bi-journal-medical"></i>
                  </div>
                  <div class="collection-details">
                    <h4 class="collection-title">USMLE Step 1 Preparation</h4>
                    <p class="collection-description">Essential resources for Step 1 exam preparation</p>
                    <div class="collection-stats">
                      <div class="collection-stat">
                        <i class="bi bi-book"></i> 15 books
                      </div>
                      <div class="collection-stat">
                        <i class="bi bi-star-fill"></i> 4.8
                      </div>
                    </div>
                  </div>
                  <div class="collection-action">
                    <i class="bi bi-arrow-right"></i>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="collection-card">
                <div class="collection-content">
                  <div class="collection-icon" style="background: rgba(5, 150, 105, 0.1); color: #059669;">
                    <i class="bi bi-heart-pulse"></i>
                  </div>
                  <div class="collection-details">
                    <h4 class="collection-title">Clinical Skills & Diagnosis</h4>
                    <p class="collection-description">Practical guides for clinical practice</p>
                    <div class="collection-stats">
                      <div class="collection-stat">
                        <i class="bi bi-book"></i> 12 books
                      </div>
                      <div class="collection-stat">
                        <i class="bi bi-star-fill"></i> 4.6
                      </div>
                    </div>
                  </div>
                  <div class="collection-action">
                    <i class="bi bi-arrow-right"></i>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-md-4">
              <div class="collection-card">
                <div class="collection-content">
                  <div class="collection-icon" style="background: rgba(217, 119, 6, 0.1); color: #D97706;">
                    <i class="bi bi-capsule"></i>
                  </div>
                  <div class="collection-details">
                    <h4 class="collection-title">Pharmacology Essentials</h4>
                    <p class="collection-description">Comprehensive drug references and guides</p>
                    <div class="collection-stats">
                      <div class="collection-stat">
                        <i class="bi bi-book"></i> 10 books
                      </div>
                      <div class="collection-stat">
                        <i class="bi bi-star-fill"></i> 4.7
                      </div>
                    </div>
                  </div>
                  <div class="collection-action">
                    <i class="bi bi-arrow-right"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- New Releases -->
        <div class="ebooks-section">
          <div class="section-header">
            <h3 class="section-title">New Releases</h3>
            <a href="#" class="section-action">
              View All <i class="bi bi-arrow-right"></i>
            </a>
          </div>
          
          <div class="swiper-container" id="newReleasesSwiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <div class="book-card">
                  <div class="book-cover">
                    <img src="https://picsum.photos/id/24/400/600" alt="Advanced Clinical Neurology">
                    <div class="book-badge new">New</div>
                    <div class="book-overlay">
                      <div class="book-action">
                        <div class="book-btn preview" data-book-id="1">
                          <i class="bi bi-eye"></i>
                        </div>
                        <div class="book-btn buy">
                          <i class="bi bi-cart"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="book-content">
                    <h4 class="book-title">Advanced Clinical Neurology</h4>
                    <p class="book-author">By Dr. Sarah Johnson</p>
                    <div class="book-rating">
                      <div class="book-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-half"></i>
                      </div>
                      <span class="book-rating-count">(42)</span>
                    </div>
                    <p class="book-description">The latest comprehensive guide to neurological disorders, diagnosis, and treatment approaches.</p>
                    <div class="book-footer">
                      <div class="book-price">$39.99</div>
                      <button class="book-cta amazon">Amazon</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="swiper-slide">
                <div class="book-card">
                  <div class="book-cover">
                    <img src="https://picsum.photos/id/28/400/600" alt="Principles of Medical Genetics">
                    <div class="book-badge new">New</div>
                    <div class="book-overlay">
                      <div class="book-action">
                        <div class="book-btn preview" data-book-id="2">
                          <i class="bi bi-eye"></i>
                        </div>
                        <div class="book-btn buy">
                          <i class="bi bi-cart"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="book-content">
                    <h4 class="book-title">Principles of Medical Genetics</h4>
                    <p class="book-author">By Dr. Michael Chen</p>
                    <div class="book-rating">
                      <div class="book-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star"></i>
                      </div>
                      <span class="book-rating-count">(28)</span>
                    </div>
                    <p class="book-description">A modern approach to understanding genetic disorders and their clinical implications.</p>
                    <div class="book-footer">
                      <div class="book-price">$45.99</div>
                      <button class="book-cta amazon">Amazon</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="swiper-slide">
                <div class="book-card">
                  <div class="book-cover">
                    <img src="https://picsum.photos/id/26/400/600" alt="Evidence-Based Medicine">
                    <div class="book-badge new">New</div>
                    <div class="book-overlay">
                      <div class="book-action">
                        <div class="book-btn preview" data-book-id="3">
                          <i class="bi bi-eye"></i>
                        </div>
                        <div class="book-btn buy">
                          <i class="bi bi-cart"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="book-content">
                    <h4 class="book-title">Evidence-Based Medicine: A Practical Approach</h4>
                    <p class="book-author">By Dr. Emily Williams</p>
                    <div class="book-rating">
                      <div class="book-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                      </div>
                      <span class="book-rating-count">(36)</span>
                    </div>
                    <p class="book-description">Learn how to apply evidence-based principles to clinical decision-making.</p>
                    <div class="book-footer">
                      <div class="book-price">$42.99</div>
                      <button class="book-cta amazon">Amazon</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="swiper-slide">
                <div class="book-card">
                  <div class="book-cover">
                    <img src="https://picsum.photos/id/20/400/600" alt="Clinical Pharmacology">
                    <div class="book-badge new">New</div>
                    <div class="book-overlay">
                      <div class="book-action">
                        <div class="book-btn preview" data-book-id="4">
                          <i class="bi bi-eye"></i>
                        </div>
                        <div class="book-btn buy">
                          <i class="bi bi-cart"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="book-content">
                    <h4 class="book-title">Clinical Pharmacology: From Principles to Practice</h4>
                    <p class="book-author">By Dr. Robert Thompson</p>
                    <div class="book-rating">
                      <div class="book-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-half"></i>
                      </div>
                      <span class="book-rating-count">(51)</span>
                    </div>
                    <p class="book-description">A comprehensive guide to drug actions, interactions, and therapeutic applications.</p>
                    <div class="book-footer">
                      <div class="book-price">$49.99</div>
                      <button class="book-cta amazon">Amazon</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="swiper-slide">
                <div class="book-card">
                  <div class="book-cover">
                    <img src="https://picsum.photos/id/21/400/600" alt="Surgical Techniques">
                    <div class="book-badge new">New</div>
                    <div class="book-overlay">
                      <div class="book-action">
                        <div class="book-btn preview" data-book-id="5">
                          <i class="bi bi-eye"></i>
                        </div>
                        <div class="book-btn buy">
                          <i class="bi bi-cart"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="book-content">
                    <h4 class="book-title">Modern Surgical Techniques: An Illustrated Guide</h4>
                    <p class="book-author">By Dr. James Wilson</p>
                    <div class="book-rating">
                      <div class="book-stars">
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star"></i>
                      </div>
                      <span class="book-rating-count">(23)</span>
                    </div>
                    <p class="book-description">Step-by-step illustrations of contemporary surgical procedures and techniques.</p>
                    <div class="book-footer">
                      <div class="book-price">$54.99</div>
                      <button class="book-cta amazon">Amazon</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
          </div>
        </div>
        
        <!-- Free E-Books -->
        <div class="ebooks-section">
          <div class="section-header">
            <h3 class="section-title">Free E-Books</h3>
            <a href="#" class="section-action">
              View All <i class="bi bi-arrow-right"></i>
            </a>
          </div>
          
          <div class="ebooks-grid">
            <div class="book-card book-highlight">
              <div class="book-cover">
                <img src="https://picsum.photos/id/30/400/600" alt="Fundamentals of Anatomy">
                <div class="book-badge free">Free</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn read" data-book-id="6">
                      <i class="bi bi-book"></i>
                    </div>
                    <div class="book-btn">
                      <i class="bi bi-download"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Fundamentals of Human Anatomy</h4>
                <p class="book-author">By Dr. Thomas Anderson</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star"></i>
                  </div>
                  <span class="book-rating-count">(87)</span>
                </div>
                <p class="book-description">A comprehensive introduction to human anatomy with detailed illustrations.</p>
                <div class="book-footer">
                  <div class="book-price free">Free</div>
                  <button class="book-cta">Read Now</button>
                </div>
              </div>
            </div>
            
            <div class="book-card book-highlight">
              <div class="book-cover">
                <img src="https://picsum.photos/id/31/400/600" alt="Medical Terminology">
                <div class="book-badge free">Free</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn read" data-book-id="7">
                      <i class="bi bi-book"></i>
                    </div>
                    <div class="book-btn">
                      <i class="bi bi-download"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Medical Terminology: A Complete Guide</h4>
                <p class="book-author">By Dr. Lisa Martinez</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                  </div>
                  <span class="book-rating-count">(103)</span>
                </div>
                <p class="book-description">Learn medical terminology with this easy-to-follow reference guide.</p>
                <div class="book-footer">
                  <div class="book-price free">Free</div>
                  <button class="book-cta">Read Now</button>
                </div>
              </div>
            </div>
            
            <div class="book-card book-highlight">
              <div class="book-cover">
                <img src="https://picsum.photos/id/32/400/600" alt="Basic Physiology">
                <div class="book-badge free">Free</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn read" data-book-id="8">
                      <i class="bi bi-book"></i>
                    </div>
                    <div class="book-btn">
                      <i class="bi bi-download"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Basic Human Physiology</h4>
                <p class="book-author">By Dr. David Miller</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star"></i>
                  </div>
                  <span class="book-rating-count">(76)</span>
                </div>
                <p class="book-description">An introduction to the principles of human body functions and systems.</p>
                <div class="book-footer">
                  <div class="book-price free">Free</div>
                  <button class="book-cta">Read Now</button>
                </div>
              </div>
            </div>
            
            <div class="book-card book-highlight">
              <div class="book-cover">
                <img src="https://picsum.photos/id/33/400/600" alt="Clinical Examination">
                <div class="book-badge free">Free</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn read" data-book-id="9">
                      <i class="bi bi-book"></i>
                    </div>
                    <div class="book-btn">
                      <i class="bi bi-download"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Clinical Examination Skills</h4>
                <p class="book-author">By Dr. Jennifer Adams</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                    <i class="bi bi-star"></i>
                  </div>
                  <span class="book-rating-count">(64)</span>
                </div>
                <p class="book-description">A practical guide to performing thorough clinical examinations.</p>
                <div class="book-footer">
                  <div class="book-price free">Free</div>
                  <button class="book-cta">Read Now</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Bestsellers -->
        <div class="ebooks-section">
          <div class="section-header">
            <h3 class="section-title">Bestsellers</h3>
            <a href="#" class="section-action">
              View All <i class="bi bi-arrow-right"></i>
            </a>
          </div>
          
          <div class="ebooks-grid">
            <div class="book-card">
              <div class="book-cover">
                <img src="https://picsum.photos/id/36/400/600" alt="Gray's Anatomy">
                <div class="book-badge premium">Premium</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn preview" data-book-id="10">
                      <i class="bi bi-eye"></i>
                    </div>
                    <div class="book-btn buy">
                      <i class="bi bi-cart"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Gray's Anatomy for Students</h4>
                <p class="book-author">By Richard Drake, et al.</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                  </div>
                  <span class="book-rating-count">(215)</span>
                </div>
                <p class="book-description">The definitive anatomy text for medical students, with clear illustrations.</p>
                <div class="book-footer">
                  <div class="book-price">$74.99</div>
                  <button class="book-cta amazon">Amazon</button>
                </div>
              </div>
            </div>
            
            <div class="book-card">
              <div class="book-cover">
                <img src="https://picsum.photos/id/37/400/600" alt="Harrison's Principles">
                <div class="book-badge premium">Premium</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn preview" data-book-id="11">
                      <i class="bi bi-eye"></i>
                    </div>
                    <div class="book-btn buy">
                      <i class="bi bi-cart"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Harrison's Principles of Internal Medicine</h4>
                <p class="book-author">By J. Larry Jameson, et al.</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                  </div>
                  <span class="book-rating-count">(187)</span>
                </div>
                <p class="book-description">The landmark guide to internal medicine for clinicians and students.</p>
                <div class="book-footer">
                  <div class="book-price">$89.99</div>
                  <button class="book-cta amazon">Amazon</button>
                </div>
              </div>
            </div>
            
            <div class="book-card">
              <div class="book-cover">
                <img src="https://picsum.photos/id/38/400/600" alt="Robbins Pathology">
                <div class="book-badge premium">Premium</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn preview" data-book-id="12">
                      <i class="bi bi-eye"></i>
                    </div>
                    <div class="book-btn buy">
                      <i class="bi bi-cart"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Robbins Basic Pathology</h4>
                <p class="book-author">By Vinay Kumar, et al.</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star"></i>
                  </div>
                  <span class="book-rating-count">(156)</span>
                </div>
                <p class="book-description">The gold standard text in pathology with expert content and stunning visuals.</p>
                <div class="book-footer">
                  <div class="book-price">$69.99</div>
                  <button class="book-cta amazon">Amazon</button>
                </div>
              </div>
            </div>
            
            <div class="book-card">
              <div class="book-cover">
                <img src="https://picsum.photos/id/39/400/600" alt="Guyton Physiology">
                <div class="book-badge premium">Premium</div>
                <div class="book-overlay">
                  <div class="book-action">
                    <div class="book-btn preview" data-book-id="13">
                      <i class="bi bi-eye"></i>
                    </div>
                    <div class="book-btn buy">
                      <i class="bi bi-cart"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="book-content">
                <h4 class="book-title">Guyton and Hall Textbook of Medical Physiology</h4>
                <p class="book-author">By John E. Hall</p>
                <div class="book-rating">
                  <div class="book-stars">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                  </div>
                  <span class="book-rating-count">(178)</span>
                </div>
                <p class="book-description">The leading physiology textbook with clear explanations of complex concepts.</p>
                <div class="book-footer">
                  <div class="book-price">$79.99</div>
                  <button class="book-cta amazon">Amazon</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <!-- E-book Reader Modal -->
  <div class="ebook-modal" id="ebookModal">
    <div class="ebook-reader">
      <div class="reader-header">
        <div class="reader-title" id="readerTitle">Basic Human Physiology</div>
        <div class="reader-controls">
          <div class="reader-btn" id="fontSizeDecrease">
            <i class="bi bi-dash"></i>
          </div>
          <div class="reader-btn" id="fontSizeIncrease">
            <i class="bi bi-plus"></i>
          </div>
          <div class="reader-close" id="closeReader">
            <i class="bi bi-x-lg"></i>
          </div>
        </div>
      </div>
      <div class="reader-content" id="readerContent">
        <h2>Chapter 1: Introduction to Human Physiology</h2>
        <p>Physiology is the study of how the human body works. It describes the chemistry and physics behind basic body functions, from how molecules behave in cells to how systems of organs work together. It helps us understand what happens in a healthy body in everyday life and what goes wrong when someone gets sick.</p>
        
        <p>Physiologists study how the body functions in both health and disease. The field of physiology is as old as the study of medicine itself, with roots in ancient civilizations like those of Egypt, India, and Greece. The word "physiology" comes from Ancient Greek, meaning "study of nature."</p>
        
        <h3>1.1 Levels of Organization</h3>
        <p>The human body is organized into several levels of increasing complexity:</p>
        <ul>
          <li><strong>Chemical level:</strong> Atoms and molecules</li>
          <li><strong>Cellular level:</strong> Cells are the basic structural and functional units of life</li>
          <li><strong>Tissue level:</strong> Groups of similar cells working together</li>
          <li><strong>Organ level:</strong> Different tissues working together</li>
          <li><strong>Organ system level:</strong> Groups of organs functioning together</li>
          <li><strong>Organism level:</strong> All systems working together to maintain life</li>
        </ul>
        
        <h3>1.2 Homeostasis</h3>
        <p>Homeostasis is the maintenance of relatively stable internal conditions despite changes in the external environment. This dynamic state of equilibrium is essential for proper functioning of the body. Homeostatic mechanisms include:</p>
        
        <p><strong>Negative feedback:</strong> The most common homeostatic mechanism, where a change in a variable triggers responses that reverse the change. For example, when body temperature rises, sweating is triggered to cool the body down.</p>
        
        <p><strong>Positive feedback:</strong> Less common, where a change triggers responses that amplify the change. This is typically seen in processes that need to be completed quickly, such as blood clotting or childbirth.</p>
        
        <h3>1.3 Basic Physiological Systems</h3>
        <p>The human body consists of several interconnected physiological systems:</p>
        
        <p><strong>Nervous System:</strong> The control center of the body, responsible for receiving, processing, and responding to information.</p>
        
        <p><strong>Endocrine System:</strong> Uses hormones to regulate body functions over longer periods.</p>
        
        <p><strong>Cardiovascular System:</strong> Transports blood, nutrients, gases, and hormones throughout the body.</p>
        
        <p><strong>Respiratory System:</strong> Exchanges gases (oxygen and carbon dioxide) between the body and the environment.</p>
        
        <p><strong>Digestive System:</strong> Breaks down food into nutrients that can be absorbed and used by the body.</p>
        
        <p><strong>Urinary System:</strong> Filters waste products from the blood and maintains water and electrolyte balance.</p>
        
        <p><strong>Immune System:</strong> Defends the body against pathogens and foreign substances.</p>
        
        <p><strong>Musculoskeletal System:</strong> Provides support, protection, and movement.</p>
        
        <p><strong>Reproductive System:</strong> Responsible for producing offspring.</p>
        
        <h2>Chapter 2: Cell Physiology</h2>
        <p>Cells are the basic structural and functional units of life. Each cell in the human body is a complex entity capable of maintaining its own life and functioning as part of a larger system.</p>
        
        <h3>2.1 Cell Structure</h3>
        <p>Human cells are eukaryotic, meaning they contain a true nucleus and other membrane-bound organelles. The main components of a human cell include:</p>
        
        <p><strong>Cell membrane:</strong> A selectively permeable barrier that separates the cell from its environment.</p>
        
        <p><strong>Cytoplasm:</strong> The gel-like substance within the cell that contains organelles and the cytosol.</p>
        
        <p><strong>Nucleus:</strong> Houses the genetic material (DNA) and controls cellular activities.</p>
        
        <p><strong>Mitochondria:</strong> The "powerhouses" of the cell, responsible for producing energy in the form of ATP.</p>
        
        <p><strong>Endoplasmic reticulum:</strong> A network of membranes involved in protein and lipid synthesis.</p>
        
        <p><strong>Golgi apparatus:</strong> Modifies, sorts, and packages proteins for secretion or use within the cell.</p>
        
        <p><strong>Lysosomes:</strong> Contain digestive enzymes that break down cellular waste and debris.</p>
        
        <p><strong>Ribosomes:</strong> Sites of protein synthesis.</p>
        
        <h3>2.2 Cell Transport</h3>
        <p>Cells must exchange materials with their environment to survive. Transport mechanisms include:</p>
        
        <p><strong>Passive transport:</strong> Movement of substances down their concentration gradient without energy expenditure.</p>
        <ul>
          <li>Simple diffusion: Direct movement through the cell membrane</li>
          <li>Facilitated diffusion: Movement through protein channels or carriers</li>
          <li>Osmosis: Diffusion of water across a selectively permeable membrane</li>
        </ul>
        
        <p><strong>Active transport:</strong> Movement of substances against their concentration gradient, requiring energy (ATP).</p>
        
        <p><strong>Bulk transport:</strong> Movement of large particles or volumes of fluid.</p>
        <ul>
          <li>Endocytosis: Taking material into the cell</li>
          <li>Exocytosis: Releasing material from the cell</li>
        </ul>
      </div>
      <div class="reader-footer">
        <div class="reader-page">Page 1 of 32</div>
        <div class="reader-navigation">
          <button class="page-btn disabled" id="prevPage">
            <i class="bi bi-chevron-left"></i> Previous
          </button>
          <button class="page-btn" id="nextPage">
            Next <i class="bi bi-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Preview Modal -->
  <div class="preview-modal" id="previewModal">
    <div class="preview-container">
      <div class="preview-header">
        <div class="preview-title" id="previewTitle">Book Preview</div>
        <div class="preview-close" id="closePreview">
          <i class="bi bi-x-lg"></i>
        </div>
      </div>
      <div class="preview-content">
        <div class="preview-sidebar">
          <div class="preview-book-cover">
            <img src="https://picsum.photos/id/24/400/600" alt="Advanced Clinical Neurology" id="previewCover">
          </div>
          <h4 class="preview-book-title" id="previewBookTitle">Advanced Clinical Neurology</h4>
          <p class="preview-book-author" id="previewAuthor">By Dr. Sarah Johnson</p>
          <div class="preview-book-rating">
            <div class="preview-book-stars">
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-fill"></i>
              <i class="bi bi-star-half"></i>
            </div>
            <span class="preview-book-rating-count">(42 reviews)</span>
          </div>
          <div class="preview-book-price" id="previewPrice">$39.99</div>
          <div class="preview-book-original-price">$49.99</div>
          <p class="preview-book-description" id="previewDescription">The latest comprehensive guide to neurological disorders, diagnosis, and treatment approaches. This book provides medical students and practitioners with up-to-date information on neurological conditions.</p>
          <div class="preview-book-details">
            <div class="preview-book-detail">
              <span class="preview-book-detail-label">Publisher:</span>
              <span>Medical Press</span>
            </div>
            <div class="preview-book-detail">
              <span class="preview-book-detail-label">Publication Date:</span>
              <span>March 2023</span>
            </div>
            <div class="preview-book-detail">
              <span class="preview-book-detail-label">Pages:</span>
              <span>648</span>
            </div>
            <div class="preview-book-detail">
              <span class="preview-book-detail-label">Language:</span>
              <span>English</span>
            </div>
            <div class="preview-book-detail">
              <span class="preview-book-detail-label">ISBN:</span>
              <span>978-1234567890</span>
            </div>
          </div>
          <button class="preview-cta">Buy on Amazon</button>
        </div>
        <div class="preview-pages">
          <div class="preview-page">
            <h3 class="preview-page-header">Preface</h3>
            <div class="preview-page-content">
              <p>It is with great pleasure that I present this new edition of Advanced Clinical Neurology. The field of neurology has witnessed remarkable advances in recent years, with new diagnostic techniques, treatment modalities, and understanding of neurological disorders.</p>
              <p>This book aims to bridge the gap between basic neuroscience and clinical practice, providing a comprehensive resource for medical students, residents, and practicing clinicians. The content has been thoroughly updated to reflect the latest evidence-based approaches to neurological diagnosis and management.</p>
              <p>I would like to express my gratitude to all the contributors who have shared their expertise and insights, making this book a valuable resource for the medical community. Special thanks to my colleagues at the Department of Neurology for their support and encouragement throughout this project.</p>
              <p>I hope this book serves as a useful guide in your journey to understanding and treating neurological disorders.</p>
              <p>Dr. Sarah Johnson<br>Professor of Neurology</p>
            </div>
          </div>
          <div class="preview-page">
            <h3 class="preview-page-header">Chapter 1: Neurological Examination</h3>
            <div class="preview-page-content">
              <p>The neurological examination is the cornerstone of neurological diagnosis. A systematic and thorough examination can provide valuable insights into the location and nature of neurological disorders, guiding further investigations and treatment decisions.</p>
              <p>This chapter outlines a structured approach to the neurological examination, emphasizing the importance of careful observation and interpretation of clinical signs. We will cover the assessment of mental status, cranial nerves, motor system, sensory system, reflexes, coordination, and gait.</p>
              <p>The art of neurological examination requires practice and experience. While advanced imaging techniques have revolutionized neurological diagnosis, the clinical examination remains an essential skill for every physician dealing with neurological disorders.</p>
              <h4>1.1 Mental Status Examination</h4>
              <p>The mental status examination assesses cognitive function and is particularly important in patients with suspected encephalopathy, dementia, or psychiatric disorders. Key components include:</p>
              <ul>
                <li><strong>Level of consciousness:</strong> Assess using the Glasgow Coma Scale or by describing the patient's responsiveness.</li>
                <li><strong>Orientation:</strong> Evaluate orientation to person, place, and time.</li>
                <li><strong>Attention:</strong> Test using digit span, serial sevens, or spelling "WORLD" backward.</li>
                <li><strong>Memory:</strong> Assess immediate, recent, and remote memory.</li>
                <li><strong>Language:</strong> Evaluate fluency, comprehension, repetition, naming, reading, and writing.</li>
                <li><strong>Visuospatial ability:</strong> Test using clock drawing or figure copying.</li>
                <li><strong>Executive function:</strong> Assess using abstraction tasks, judgment questions, or frontal lobe tests.</li>
              </ul>
              <p>Standardized cognitive assessment tools, such as the Mini-Mental State Examination (MMSE) or Montreal Cognitive Assessment (MoCA), can provide a quantitative measure of cognitive function and are useful for monitoring changes over time.</p>
            </div>
          </div>
          <div class="preview-page-content">
            <p class="text-center text-muted mt-5">Preview limited to first few pages. Purchase the book to continue reading.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

<script>
  // Initialize AOS
AOS.init({
  duration: 800,
  easing: 'ease-in-out',
  once: true
});

// Create rain animation for dark mode
function createRain() {
  const container = document.getElementById('rainAnimation');
  const dropCount = 100;

  for (let i = 0; i < dropCount; i++) {
    const drop = document.createElement('div');
    drop.className = 'rain-drop';
    
    // Random position
    drop.style.left = `${Math.random() * 100}%`;
    
    // Random animation duration and delay
    const duration = Math.random() * 1 + 0.5;
    const delay = Math.random() * 5;
    drop.style.animation = `rain-fall ${duration}s ${delay}s infinite linear`;
    
    container.appendChild(drop);
  }
}

// Initialize rain
createRain();

// Theme Toggle
const themeToggle = document.getElementById('themeToggle');
themeToggle.addEventListener('click', () => {
  const currentTheme = document.body.getAttribute('data-theme') || 'light';
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  
  document.body.setAttribute('data-theme', newTheme);
  themeToggle.innerHTML = newTheme === 'dark' ? 
    '<i class="bi bi-sun"></i>' : '<i class="bi bi-moon"></i>';
  
  // Save theme preference
  localStorage.setItem('theme', newTheme);
});

// Load saved theme
const savedTheme = localStorage.getItem('theme');
if (savedTheme) {
  document.body.setAttribute('data-theme', savedTheme);
  themeToggle.innerHTML = savedTheme === 'dark' ? 
    '<i class="bi bi-sun"></i>' : '<i class="bi bi-moon"></i>';
}

// Sidebar Toggle
const toggleSidebar = document.getElementById('toggleSidebar');
const dashboardContainer = document.getElementById('dashboardContainer');

toggleSidebar.addEventListener('click', () => {
  dashboardContainer.classList.toggle('sidebar-collapsed');
  
  // Update toggle icon
  const icon = toggleSidebar.querySelector('i');
  if (dashboardContainer.classList.contains('sidebar-collapsed')) {
    icon.classList.remove('bi-chevron-left');
    icon.classList.add('bi-chevron-right');
  } else {
    icon.classList.remove('bi-chevron-right');
    icon.classList.add('bi-chevron-left');
  }
});

// Mobile Sidebar Toggle
const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
const sidebar = document.getElementById('sidebar');

mobileSidebarToggle.addEventListener('click', () => {
  sidebar.classList.toggle('active');
});

// Close sidebar when clicking outside on mobile
document.addEventListener('click', (e) => {
  if (window.innerWidth <= 992) {
    if (!sidebar.contains(e.target) && !mobileSidebarToggle.contains(e.target)) {
      sidebar.classList.remove('active');
    }
  }
});

// Menu Item Click (for submenu toggle)
const menuItems = document.querySelectorAll('.menu-item');

menuItems.forEach(item => {
  if (item.querySelector('.menu-arrow')) {
    item.addEventListener('click', () => {
      // If sidebar is collapsed, don't toggle active state
      if (!dashboardContainer.classList.contains('sidebar-collapsed')) {
        item.classList.toggle('active');
      }
    });
  }
});

// Notification Dropdown Toggle
const notificationBtn = document.getElementById('notificationBtn');
const notificationDropdown = document.getElementById('notificationDropdown');

notificationBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  notificationDropdown.classList.toggle('show');
  userDropdown.classList.remove('show');
});

// User Dropdown Toggle
const userProfile = document.getElementById('userProfile');
const userDropdown = document.getElementById('userDropdown');

userProfile.addEventListener('click', (e) => {
  e.stopPropagation();
  userDropdown.classList.toggle('show');
  notificationDropdown.classList.remove('show');
});

// Close dropdowns when clicking outside
document.addEventListener('click', () => {
  notificationDropdown.classList.remove('show');
  userDropdown.classList.remove('show');
});

// Initialize Swiper
const newReleasesSwiper = new Swiper('#newReleasesSwiper', {
  slidesPerView: 1,
  spaceBetween: 20,
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },
  breakpoints: {
    576: {
      slidesPerView: 2,
    },
    768: {
      slidesPerView: 3,
    },
    992: {
      slidesPerView: 4,
    },
    1200: {
      slidesPerView: 5,
    }
  }
});

// Filter Chips
const filterChips = document.querySelectorAll('.filter-chip');

filterChips.forEach(chip => {
  chip.addEventListener('click', () => {
    filterChips.forEach(c => c.classList.remove('active'));
    chip.classList.add('active');
  });
});

// E-book Reader Modal
const ebookModal = document.getElementById('ebookModal');
const closeReader = document.getElementById('closeReader');
const readButtons = document.querySelectorAll('.book-btn.read');
const readerTitle = document.getElementById('readerTitle');
const readerContent = document.getElementById('readerContent');
const fontSizeIncrease = document.getElementById('fontSizeIncrease');
const fontSizeDecrease = document.getElementById('fontSizeDecrease');
const prevPage = document.getElementById('prevPage');
const nextPage = document.getElementById('nextPage');

// Book data (simplified for demo)
const books = {
  '6': {
    title: 'Fundamentals of Human Anatomy',
    content: readerContent.innerHTML // Using the default content for demo
  },
  '7': {
    title: 'Medical Terminology: A Complete Guide',
    content: `
      <h2>Chapter 1: Introduction to Medical Terminology</h2>
      <p>Medical terminology is a language used to precisely describe the human body including its components, processes, conditions affecting it, and procedures performed upon it. Medical terminology is used in the field of medicine.</p>
      
      <p>Medical terminology has quite regular morphology, the same prefixes and suffixes are used to add meanings to different roots. The root of a term often refers to an organ, tissue, or condition.</p>
      
      <h3>1.1 Word Building</h3>
      <p>Most medical terms can be broken down into one or more word parts. There are three basic word parts in medical terminology:</p>
      
      <ul>
        <li><strong>Prefix:</strong> A prefix is the beginning of a medical term. It modifies the meaning of the medical word root. It is not always present in a medical term.</li>
        <li><strong>Root:</strong> The root gives the essential meaning of the term. It is always present in a medical term.</li>
        <li><strong>Suffix:</strong> The suffix is the end of a medical term. It modifies the meaning of the medical word root. It is usually present in a medical term.</li>
      </ul>
      
      <h3>1.2 Common Prefixes</h3>
      <p>Here are some common prefixes used in medical terminology:</p>
      
      <ul>
        <li><strong>a-, an-:</strong> without, not, absence of</li>
        <li><strong>ante-:</strong> before, forward</li>
        <li><strong>anti-:</strong> against</li>
        <li><strong>bi-:</strong> two, double</li>
        <li><strong>brady-:</strong> slow</li>
        <li><strong>dys-:</strong> difficult, painful, abnormal</li>
        <li><strong>endo-:</strong> within</li>
        <li><strong>epi-:</strong> upon, above</li>
        <li><strong>hyper-:</strong> excessive, above normal</li>
        <li><strong>hypo-:</strong> deficient, below normal</li>
        <li><strong>inter-:</strong> between</li>
        <li><strong>intra-:</strong> within</li>
        <li><strong>macro-:</strong> large</li>
        <li><strong>micro-:</strong> small</li>
        <li><strong>peri-:</strong> around</li>
        <li><strong>poly-:</strong> many, much</li>
        <li><strong>post-:</strong> after, behind</li>
        <li><strong>pre-:</strong> before, in front of</li>
        <li><strong>retro-:</strong> backward, behind</li>
        <li><strong>sub-:</strong> under, below</li>
        <li><strong>tachy-:</strong> rapid</li>
        <li><strong>trans-:</strong> across, through</li>
      </ul>
    `
  },
  '8': {
    title: 'Basic Human Physiology',
    content: readerContent.innerHTML // Using the default content for demo
  },
  '9': {
    title: 'Clinical Examination Skills',
    content: `
      <h2>Chapter 1: Principles of Clinical Examination</h2>
      <p>Clinical examination is a fundamental skill for healthcare professionals. It involves the systematic evaluation of a patient to gather information about their health status and identify any abnormalities or diseases.</p>
      
      <p>A thorough clinical examination consists of several components: history taking, physical examination, formulation of a differential diagnosis, and planning of further investigations or treatment.</p>
      
      <h3>1.1 The Art of History Taking</h3>
      <p>History taking is the process of obtaining information from the patient about their health problems. It is often the most important part of the clinical assessment and can provide valuable clues to the diagnosis.</p>
      
      <p>Key components of a comprehensive history include:</p>
      
      <ul>
        <li><strong>Presenting complaint:</strong> The main reason for the patient's visit, described in their own words.</li>
        <li><strong>History of presenting complaint:</strong> Detailed information about the onset, duration, character, and progression of symptoms.</li>
        <li><strong>Past medical history:</strong> Previous illnesses, surgeries, hospitalizations, and injuries.</li>
        <li><strong>Medication history:</strong> Current and past medications, including prescription, over-the-counter, and complementary medicines.</li>
        <li><strong>Allergies:</strong> Any known allergies to medications, foods, or environmental factors.</li>
        <li><strong>Family history:</strong> Health conditions in blood relatives, particularly those with a genetic component.</li>
        <li><strong>Social history:</strong> Lifestyle factors such as smoking, alcohol consumption, diet, exercise, occupation, and living conditions.</li>
        <li><strong>Review of systems:</strong> Systematic inquiry about symptoms related to different body systems.</li>
      </ul>
      
      <h3>1.2 Communication Skills</h3>
      <p>Effective communication is essential for a successful clinical examination. Good communication skills help to establish rapport with the patient, gather accurate information, and ensure patient satisfaction.</p>
      
      <p>Key communication techniques include:</p>
      
      <ul>
        <li><strong>Active listening:</strong> Paying full attention to what the patient is saying, without interrupting or judging.</li>
        <li><strong>Open-ended questions:</strong> Questions that encourage detailed responses rather than simple yes/no answers.</li>
        <li><strong>Clarification:</strong> Seeking additional information or explanation when needed.</li>
        <li><strong>Empathy:</strong> Acknowledging and responding to the patient's emotions and concerns.</li>
        <li><strong>Non-verbal communication:</strong> Being aware of body language, facial expressions, and tone of voice.</li>
        <li><strong>Cultural sensitivity:</strong> Respecting and accommodating cultural differences in communication and healthcare beliefs.</li>
      </ul>
    `
  }
};

// Open E-book Reader
readButtons.forEach(button => {
  button.addEventListener('click', () => {
    const bookId = button.getAttribute('data-book-id');
    const book = books[bookId];
    
    if (book) {
      readerTitle.textContent = book.title;
      readerContent.innerHTML = book.content;
      ebookModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
  });
});

// Close E-book Reader
closeReader.addEventListener('click', () => {
  ebookModal.classList.remove('active');
  document.body.style.overflow = '';
});

// Font Size Controls
let currentFontSize = 16;

fontSizeIncrease.addEventListener('click', () => {
  if (currentFontSize < 24) {
    currentFontSize += 2;
    readerContent.style.fontSize = `${currentFontSize}px`;
  }
});

fontSizeDecrease.addEventListener('click', () => {
  if (currentFontSize > 12) {
    currentFontSize -= 2;
    readerContent.style.fontSize = `${currentFontSize}px`;
  }
});

// Page Navigation (simplified for demo)
let currentPage = 1;

nextPage.addEventListener('click', () => {
  if (currentPage < 32) {
    currentPage++;
    document.querySelector('.reader-page').textContent = `Page ${currentPage} of 32`;
    prevPage.classList.remove('disabled');
    
    if (currentPage === 32) {
      nextPage.classList.add('disabled');
    }
    
    // Scroll to top of content
    readerContent.scrollTop = 0;
  }
});

prevPage.addEventListener('click', () => {
  if (currentPage > 1) {
    currentPage--;
    document.querySelector('.reader-page').textContent = `Page ${currentPage} of 32`;
    nextPage.classList.remove('disabled');
    
    if (currentPage === 1) {
      prevPage.classList.add('disabled');
    }
    
    // Scroll to top of content
    readerContent.scrollTop = 0;
  }
});

// Close modal when clicking outside
ebookModal.addEventListener('click', (e) => {
  if (e.target === ebookModal) {
    ebookModal.classList.remove('active');
    document.body.style.overflow = '';
  }
});

// Preview Modal
const previewModal = document.getElementById('previewModal');
const closePreview = document.getElementById('closePreview');
const previewButtons = document.querySelectorAll('.book-btn.preview');
const previewTitle = document.getElementById('previewTitle');
const previewBookTitle = document.getElementById('previewBookTitle');
const previewAuthor = document.getElementById('previewAuthor');
const previewDescription = document.getElementById('previewDescription');
const previewPrice = document.getElementById('previewPrice');
const previewCover = document.getElementById('previewCover');

// Preview data (simplified for demo)
const previews = {
  '1': {
    title: 'Advanced Clinical Neurology',
    author: 'By Dr. Sarah Johnson',
    description: 'The latest comprehensive guide to neurological disorders, diagnosis, and treatment approaches. This book provides medical students and practitioners with up-to-date information on neurological conditions.',
    price: '$39.99',
    cover: 'https://picsum.photos/id/24/400/600'
  },
  '2': {
    title: 'Principles of Medical Genetics',
    author: 'By Dr. Michael Chen',
    description: 'A modern approach to understanding genetic disorders and their clinical implications. This textbook covers the fundamentals of human genetics and their application in medical practice.',
    price: '$45.99',
    cover: 'https://picsum.photos/id/28/400/600'
  },
  '3': {
    title: 'Evidence-Based Medicine: A Practical Guide',
    author: 'By Dr. Emily Rodriguez',
    description: 'A comprehensive guide to practicing evidence-based medicine. This book teaches healthcare professionals how to find, evaluate, and apply the best available evidence in clinical decision-making.',
    price: '$42.99',
    cover: 'https://picsum.photos/id/36/400/600'
  },
  '4': {
    title: 'Pharmacology for Medical Students',
    author: 'By Prof. Robert Thompson',
    description: 'An essential guide to understanding drug actions, interactions, and therapeutic applications. This textbook provides a clear and concise overview of pharmacological principles for medical students.',
    price: '$49.99',
    cover: 'https://picsum.photos/id/42/400/600'
  },
  '5': {
    title: 'Clinical Cardiology: Principles and Practice',
    author: 'By Dr. James Wilson',
    description: 'A comprehensive textbook on cardiovascular medicine, covering pathophysiology, diagnosis, and management of cardiac disorders. This book includes the latest advances in cardiology practice.',
    price: '$52.99',
    cover: 'https://picsum.photos/id/54/400/600'
  }
};

// Open Preview Modal
previewButtons.forEach(button => {
  button.addEventListener('click', () => {
    const bookId = button.getAttribute('data-book-id');
    const preview = previews[bookId];
    
    if (preview) {
      previewBookTitle.textContent = preview.title;
      previewAuthor.textContent = preview.author;
      previewDescription.textContent = preview.description;
      previewPrice.textContent = preview.price;
      previewCover.src = preview.cover;
      previewTitle.textContent = `Preview: ${preview.title}`;
      
      previewModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
  });
});

// Close Preview Modal
closePreview.addEventListener('click', () => {
  previewModal.classList.remove('active');
  document.body.style.overflow = '';
});

// Close modal when clicking outside
previewModal.addEventListener('click', (e) => {
  if (e.target === previewModal) {
    previewModal.classList.remove('active');
    document.body.style.overflow = '';
  }
});

// Add to Cart functionality
const addToCartButtons = document.querySelectorAll('.add-to-cart');
const cartCount = document.getElementById('cartCount');
let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

// Update cart count on page load
updateCartCount();

// Add to cart click handler
addToCartButtons.forEach(button => {
  button.addEventListener('click', (e) => {
    e.preventDefault();
    
    const bookId = button.getAttribute('data-book-id');
    const bookTitle = button.getAttribute('data-book-title') || 
                     (previews[bookId] ? previews[bookId].title : 'Unknown Book');
    const bookPrice = button.getAttribute('data-book-price') || 
                     (previews[bookId] ? previews[bookId].price.replace('$', '') : '0.00');
    
    // Check if item already in cart
    const existingItem = cartItems.find(item => item.id === bookId);
    
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cartItems.push({
        id: bookId,
        title: bookTitle,
        price: parseFloat(bookPrice),
        quantity: 1
      });
    }
    
    // Save to localStorage
    localStorage.setItem('cartItems', JSON.stringify(cartItems));
    
    // Update cart count
    updateCartCount();
    
    // Show notification
    showNotification(`${bookTitle} added to cart!`);
    
    // Close preview modal if open
    if (previewModal.classList.contains('active')) {
      previewModal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
});

// Update cart count function
function updateCartCount() {
  const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
  cartCount.textContent = totalItems;
  
  if (totalItems > 0) {
    cartCount.classList.add('has-items');
  } else {
    cartCount.classList.remove('has-items');
  }
}

// Show notification function
function showNotification(message) {
  const notification = document.createElement('div');
  notification.className = 'notification';
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  // Show notification
  setTimeout(() => {
    notification.classList.add('show');
  }, 10);
  
  // Remove notification after 3 seconds
  setTimeout(() => {
    notification.classList.remove('show');
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

// Search functionality
const searchInput = document.getElementById('searchInput');
const searchResults = document.getElementById('searchResults');
const searchForm = document.getElementById('searchForm');

// Combined book data for search
const allBooks = {
  ...previews,
  ...books
};

searchInput.addEventListener('input', debounce(() => {
  const query = searchInput.value.toLowerCase().trim();
  
  // Clear previous results
  searchResults.innerHTML = '';
  
  if (query.length < 2) {
    searchResults.classList.remove('active');
    return;
  }
  
  // Filter books based on query
  const filteredBooks = Object.entries(allBooks).filter(([id, book]) => {
    return book.title.toLowerCase().includes(query) || 
           (book.author && book.author.toLowerCase().includes(query));
  });
  
  if (filteredBooks.length > 0) {
    // Create result items
    filteredBooks.forEach(([id, book]) => {
      const resultItem = document.createElement('div');
      resultItem.className = 'search-result-item';
      resultItem.innerHTML = `
        <div class="search-result-title">${book.title}</div>
        ${book.author ? `<div class="search-result-author">${book.author}</div>` : ''}
      `;
      
      resultItem.addEventListener('click', () => {
        // Navigate to book page or open preview/reader
        searchInput.value = '';
        searchResults.classList.remove('active');
        
        // For demo, just open preview if available
        if (previews[id]) {
          const previewButton = document.querySelector(`.book-btn.preview[data-book-id="${id}"]`);
          if (previewButton) {
            previewButton.click();
          }
        } else if (books[id]) {
          const readButton = document.querySelector(`.book-btn.read[data-book-id="${id}"]`);
          if (readButton) {
            readButton.click();
          }
        }
      });
      
      searchResults.appendChild(resultItem);
    });
    
    searchResults.classList.add('active');
  } else {
    // No results
    const noResults = document.createElement('div');
    noResults.className = 'search-no-results';
    noResults.textContent = 'No books found';
    searchResults.appendChild(noResults);
    searchResults.classList.add('active');
  }
}, 300));

// Close search results when clicking outside
document.addEventListener('click', (e) => {
  if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
    searchResults.classList.remove('active');
  }
});

// Prevent form submission
searchForm.addEventListener('submit', (e) => {
  e.preventDefault();
  
  // Trigger search
  const event = new Event('input', {
    bubbles: true,
    cancelable: true,
  });
  
  searchInput.dispatchEvent(event);
});

// Debounce function to limit search frequency
function debounce(func, wait) {
  let timeout;
  return function() {
    const context = this;
    const args = arguments;
    clearTimeout(timeout);
    timeout = setTimeout(() => {
      func.apply(context, args);
    }, wait);
  };
}

// Initialize Progress Bars
const progressBars = document.querySelectorAll('.progress-bar');
progressBars.forEach(bar => {
  const progress = parseFloat(bar.getAttribute('data-progress'));
  bar.style.width = `${progress}%`;
});

// Initialize Charts (if any chart libraries are included)
if (typeof Chart !== 'undefined') {
  // Activity Chart
  const activityChart = document.getElementById('activityChart');
  if (activityChart) {
    new Chart(activityChart.getContext('2d'), {
      type: 'line',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
          label: 'Study Hours',
          data: [3, 5, 2, 4, 6, 2, 1],
          borderColor: 'rgba(83, 144, 217, 1)',
          backgroundColor: 'rgba(83, 144, 217, 0.1)',
          tension: 0.4,
          fill: true
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              display: true,
              color: 'rgba(200, 200, 200, 0.1)'
            }
          },
          x: {
            grid: {
              display: false
            }
          }
        }
      }
    });
  }
  
  // Subject Distribution Chart
  const subjectChart = document.getElementById('subjectChart');
  if (subjectChart) {
    new Chart(subjectChart.getContext('2d'), {
      type: 'doughnut',
      data: {
        labels: ['Anatomy', 'Physiology', 'Biochemistry', 'Pathology', 'Pharmacology'],
        datasets: [{
          data: [25, 20, 15, 18, 22],
          backgroundColor: [
            'rgba(83, 144, 217, 0.8)',
            'rgba(123, 104, 238, 0.8)',
            'rgba(50, 205, 50, 0.8)',
            'rgba(255, 165, 0, 0.8)',
            'rgba(255, 99, 132, 0.8)'
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              boxWidth: 12,
              padding: 15
            }
          }
        },
        cutout: '70%'
      }
    });
  }
}

// Wishlist functionality
const wishlistButtons = document.querySelectorAll('.wishlist-btn');
let wishlistItems = JSON.parse(localStorage.getItem('wishlistItems')) || [];

// Update wishlist buttons on page load
updateWishlistButtons();

// Wishlist button click handler
wishlistButtons.forEach(button => {
  button.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    
    const bookId = button.getAttribute('data-book-id');
    const bookTitle = button.getAttribute('data-book-title') || 
                     (previews[bookId] ? previews[bookId].title : 'Unknown Book');
    
    // Check if item already in wishlist
    const existingItemIndex = wishlistItems.findIndex(item => item.id === bookId);
    
    if (existingItemIndex > -1) {
      // Remove from wishlist
      wishlistItems.splice(existingItemIndex, 1);
      showNotification(`${bookTitle} removed from wishlist`);
    } else {
      // Add to wishlist
      wishlistItems.push({
        id: bookId,
        title: bookTitle,
        addedAt: new Date().toISOString()
      });
      showNotification(`${bookTitle} added to wishlist`);
    }
    
    // Save to localStorage
    localStorage.setItem('wishlistItems', JSON.stringify(wishlistItems));
    
    // Update wishlist buttons
    updateWishlistButtons();
  });
});

// Update wishlist buttons function
function updateWishlistButtons() {
  wishlistButtons.forEach(button => {
    const bookId = button.getAttribute('data-book-id');
    const isInWishlist = wishlistItems.some(item => item.id === bookId);
    
    if (isInWishlist) {
      button.classList.add('active');
      button.innerHTML = '<i class="bi bi-heart-fill"></i>';
    } else {
      button.classList.remove('active');
      button.innerHTML = '<i class="bi bi-heart"></i>';
    }
  });
}

// Rating functionality
const ratingStars = document.querySelectorAll('.rating-stars');

ratingStars.forEach(container => {
  const stars = container.querySelectorAll('.star');
  const ratingValue = container.querySelector('.rating-value');
  const bookId = container.getAttribute('data-book-id');
  
  // Load saved rating
  const savedRatings = JSON.parse(localStorage.getItem('bookRatings')) || {};
  if (savedRatings[bookId]) {
    updateStars(savedRatings[bookId]);
  }
  
  stars.forEach((star, index) => {
    // Hover effect
    star.addEventListener('mouseenter', () => {
      updateStars(index + 1, true);
    });
    
    // Click to rate
    star.addEventListener('click', () => {
      const rating = index + 1;
      
      // Save rating
      const savedRatings = JSON.parse(localStorage.getItem('bookRatings')) || {};
      savedRatings[bookId] = rating;
      localStorage.setItem('bookRatings', JSON.stringify(savedRatings));
      
      updateStars(rating);
      showNotification(`You rated this book ${rating} stars!`);
    });
  });
  
  // Reset on mouse leave if not rated
  container.addEventListener('mouseleave', () => {
    const savedRatings = JSON.parse(localStorage.getItem('bookRatings')) || {};
    updateStars(savedRatings[bookId] || 0);
  });
  
  function updateStars(count, isHover = false) {
    stars.forEach((star, index) => {
      if (index < count) {
        star.classList.add('active');
        star.innerHTML = '<i class="bi bi-star-fill"></i>';
      } else {
        star.classList.remove('active');
        star.innerHTML = '<i class="bi bi-star"></i>';
      }
    });
    
    if (ratingValue && !isHover) {
      ratingValue.textContent = count > 0 ? count.toFixed(1) : '';
    }
  }
});

// Handle window resize for responsive adjustments
window.addEventListener('resize', () => {
  // Reinitialize swiper on window resize
  if (newReleasesSwiper) {
    newReleasesSwiper.update();
  }
  
  // Close mobile sidebar on resize to desktop
  if (window.innerWidth > 992) {
    sidebar.classList.remove('active');
  }
});

// Initialize tooltips if Bootstrap is available
if (typeof bootstrap !== 'undefined' && bootstrap.Tooltip) {
  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
}

// Document ready - run when DOM is fully loaded
document.addEventListener('DOMContentLoaded', () => {
  // Any additional initialization that should happen after DOM is loaded
  
  // Set initial page number in reader
  const readerPageEl = document.querySelector('.reader-page');
  if (readerPageEl) {
    readerPageEl.textContent = `Page ${currentPage} of 32`;
  }
  
  // Disable prev page button initially
  if (prevPage) {
    prevPage.classList.add('disabled');
  }
  
  // Check for URL parameters to open specific books
  const urlParams = new URLSearchParams(window.location.search);
  const openBookId = urlParams.get('book');
  if (openBookId) {
    const readButton = document.querySelector(`.book-btn.read[data-book-id="${openBookId}"]`);
    if (readButton) {
      readButton.click();
    } else {
      const previewButton = document.querySelector(`.book-btn.preview[data-book-id="${openBookId}"]`);
      if (previewButton) {
        previewButton.click();
      }
    }
  }
});
</script>
</body>
</html>
